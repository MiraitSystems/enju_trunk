<script type="text/javascript">
  function displayVals() {
    var libraryValue = $("#item_library_id").val();
    $("#item_shelf_id").load('<%= shelves_path %>?mode=select&library_id=' + libraryValue).trigger("change");
  }
  function displayShelves() {
    var shelfValue = $("#shelf_category").val();
    $("#item_shelf_id").load('<%= shelves_path %>?mode=select&shelf_category=' + shelfValue);
  }

  $("#item_library_id").change(displayVals);

  function numbering() {
    var type = $("#numbering_type").val();
    $.ajax({
      type: "Get",
      url: "<%= numbering_items_path%>",
      data: {type: type},
      success: function(obj) {
        $("#item_item_identifier").val(obj.item_identifier);
      }
    });
  }

  function test() {
    var testValue2 = $("#item_library_id").val();
    $("#item_test").load('<%= shelves_path %>?mode=select&library_id=' + testValue2);
    var displayName = "test";
    document.getElementById("s2id_item_test.select2-chosen").innerHTML=displayName;
  }

  $("#item_library_id").change(test);
</script>
