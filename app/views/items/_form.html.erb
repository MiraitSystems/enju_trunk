<script>
  $(document).keydown(function(e) {
    $("input[type=text]").keypress(function(ev) {
      if ((ev.which && ev.which === 13) ||
        (ev.keyCode && ev.keyCode === 13)) {
        return false;
      } else {
        return true;
      }
    });
  });

  function add_field(obj, parent_id, id_name) {
    var new_area = document.createElement("div");
    new_area.setAttribute("id", id_name + obj.currentNumber);
    new_area.innerHTML = obj.template.replace(/__count__/mg, obj.currentNumber);
    document.getElementById(parent_id).appendChild(new_area);
    obj.currentNumber += 1;
  }
  function remove_field(no, div_name, param_name) {
    var field = $("div#" + div_name + no);
    if(field != null){
      field.append('<input name=item[' + param_name + '][' + no + '][_destroy] type="hidden" value="1" />');
      field.hide();
    }
  }
</script>

<% manifestation = @manifestation ? @manifestation : @item.manifestation %>

<% if manifestation.article? %>
  <%= render 'form_article', :manifestation => manifestation %>
<% else %>
  <%= render 'form_book', :manifestation => manifestation %>
<% end %>
